apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

# Common labels applied to all resources
commonLabels:
  app: api-gateway
  managed-by: kustomize

# Resources to deploy
resources:
  - deployment.yaml
  - service.yaml
  - configmap.yaml
  - hpa.yaml
  - ingress.yaml

# ConfigMap generator for gateway config file
# configMapGenerator:
#   - name: api-gateway-config-files
#     files:
#       - gateway.yml

# Secret generator (use only for non-production)
# secretGenerator:
#   - name: api-gateway-secrets
#     literals:
#       - SESSION_SECRET=change-me-in-production

# Images (update with actual registry)
images:
  - name: api-gateway
    newName: your-registry.example.com/api-gateway
    newTag: latest

# Namespace for all resources
# namespace: api-gateway
